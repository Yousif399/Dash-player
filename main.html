<!-- <!doctype html> -->
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Multiple audio tracks sample</title>
    <script class="code" src="ControlBar.js"></script>
    <script src="dash/dash.all.debug.js"></script>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="controlbar.css">
    <link href="main.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


    <style>
        video {
            width: 100%;
        }

        .dash-video-player {
            position: relative;
            /* This position relative is needed to position the menus */
            margin: 0 auto;
            line-height: 1.0;
        }
    </style>

    <script class="code">
        function init() {
            var ul = 'https://d3a58n96dcsgj3.cloudfront.net/messi/Default/DASH/messi.mpd'
            var url = ul;
            var videoElement = document.querySelector('video');

            var player = dashjs.MediaPlayer().create();
            player.initialize(videoElement, url, true);
            player.setInitialMediaSettingsFor('audio', {
                lang: 'et-ET'
            })
            var controlbar = new ControlBar(player);
            controlbar.initialize();

            const submitBtn = document.querySelector('.submit-btn');

            submitBtn.addEventListener("click", function () {
                const inputValue = document.querySelector('.input-box').value;
                console.log(inputValue);
                if (ul === inputValue ) {
                    ""
                }
                else if (inputValue) {
                    ul = inputValue
                    console.log(ul)
                    player.attachSource(inputValue);
                }
                else {
                    alert("Please make sure you entred a valid input")
                }
            })

        }


    </script>
</head>

<body>
    <main>
        <div class="container py-4">
            <header class="pb-3 mb-4 border-bottom">
                <img class="" src="pic/vosyn_logo.png" width="200">

            </header>
            <div class="link-input">
                <input class="input-box" type="url" value="" placeholder="enter link" />
                <button class="submit-btn" type="submit">Submit</button>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="h-100 p-5 bg-light border rounded-3">
                        <h3>Multiple audio tracks</h3>
                        <p>This example shows how content with multiple audio tracks can be played back by the dash.js
                            player. dash.js allows a switch of the audio track during playback.</p>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="dash-video-player code">
                        <div class="videoContainer" id="videoContainer">
                            <video preload="auto" autoplay></video>
                            <div id="videoController" class="video-controller unselectable">
                                <div id="playPauseBtn" class="btn-play-pause" title="Play/Pause">
                                    <i id="iconPlayPause" class="fa-solid fa-play icon-play"></i>
                                </div>
                                <span id="videoTime" class="time-display">00:00:00</span>
                                <div id="fullscreenBtn" class="btn-fullscreen control-icon-layout" title="Fullscreen">
                                    <i class="fa-solid fa-expand icon-fullscreen-enter"></i>
                                </div>
                                <div id="bitrateListBtn" class="control-icon-layout" title="Bitrate List">
                                    <i class="fa-solid fa-list icon-bitrate"></i>
                                </div>
                                <input type="range" id="volumebar" class="volumebar" value="1" min="0" max="1"
                                    step=".01" />
                                <div id="muteBtn" class="btn-mute control-icon-layout" title="Mute">
                                    <i id="iconMute" class="fa-solid fa-volume-high icon-mute-off"></i>
                                </div>
                                <div id="trackSwitchBtn" class="control-icon-layout" title="A/V Tracks">
                                    <span class="icon-tracks"></span>
                                </div>
                                <div id="captionBtn" class="btn-caption control-icon-layout" title="Closed Caption">
                                    <i class="fa-solid fa-closed-captioning icon-caption"></i>
                                </div>
                                <span id="videoDuration" class="duration-display">00:00:00</span>
                                <div class="seekContainer">
                                    <div id="seekbar" class="seekbar seekbar-complete">
                                        <div id="seekbar-buffer" class="seekbar seekbar-buffer"></div>
                                        <div id="seekbar-play" class="seekbar seekbar-play"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div id="code-output"></div>
                </div>
            </div>
            <footer class="pt-3 mt-4 text-muted border-top">
                &copy; DASH-IF
            </footer>
        </div>
    </main>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            init();
        });
    </script>
    <script src="highlighter.js"></script>
    <script src="https://kit.fontawesome.com/3b7973ce0a.js" crossorigin="anonymous"></script>
</body>

</html>